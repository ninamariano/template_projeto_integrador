/* Lógico_1: */

CREATE TABLE USUARIO (
    ID SERIAL PRIMARY KEY,
    NOME VARCHAR(50),
    SOBRENOME VARCHAR(50),
    EMAIL VARCHAR(100),
    CELULAR INTEGER,
    GENERO VARCHAR(50),
    SENHA VARCHAR(300)
);

CREATE TABLE DISCIPLINAS (
    NOME VARCHAR(50),
    ID INTEGER PRIMARY KEY
);

CREATE TABLE CONTEUDOS (
    NOME VARCHAR(100),
    ID INTEGER PRIMARY KEY,
    COD_DISCIPLINA INTEGER,
    FK_DISCIPLINAS_ID INTEGER
);

CREATE TABLE PLANEJAMENTO (
    NOME VARCHAR(50),
    DT_INICIO DATE,
    DT_FIM DATE,
    FK_USUARIO_ID SERIAL
);

CREATE TABLE DIA_SEMANA (
    ID INTEGER PRIMARY KEY,
    NOME VARCHAR(100)
);

CREATE TABLE PLAN_DISC (
    FK_DISCIPLINAS_ID INTEGER,
    FAZER INTEGER,
    ID INTEGER PRIMARY KEY
);

CREATE TABLE PLAN_DIA (
    FK_DIA_SEMANA_ID INTEGER,
    QTD_HORAS INTEGER,
    ID INTEGER PRIMARY KEY
);
 
ALTER TABLE CONTEUDOS ADD CONSTRAINT FK_CONTEUDOS_2
    FOREIGN KEY (FK_DISCIPLINAS_ID)
    REFERENCES DISCIPLINAS (ID)
    ON DELETE RESTRICT;
 
ALTER TABLE PLANEJAMENTO ADD CONSTRAINT FK_PLANEJAMENTO_1
    FOREIGN KEY (FK_USUARIO_ID)
    REFERENCES USUARIO (ID)
    ON DELETE CASCADE;
 
ALTER TABLE PLAN_DISC ADD CONSTRAINT FK_PLAN_DISC_2
    FOREIGN KEY (FK_DISCIPLINAS_ID)
    REFERENCES DISCIPLINAS (ID)
    ON DELETE RESTRICT;
 
ALTER TABLE PLAN_DIA ADD CONSTRAINT FK_PLAN_DIA_2
    FOREIGN KEY (FK_DIA_SEMANA_ID)
    REFERENCES DIA_SEMANA (ID)
    ON DELETE RESTRICT;